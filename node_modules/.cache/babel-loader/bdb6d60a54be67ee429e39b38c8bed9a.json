{"ast":null,"code":"import store from \"../store/store\";\n\nconst DiscordOauth2 = require(\"discord-oauth2\");\n\nconst oauth = new DiscordOauth2();\nexport const login = () => {\n  let code = \"Tjfw5SfK5AnwRFiahpZcA7aWuYrFPK\";\n  oauth.tokenRequest({\n    clientId: \"687765988636229689\",\n    clientSecret: \"M7xSfiqX7xqn6j4YUiHVeS9ohOdo6-1M\",\n    code: code,\n    scope: \"identify email\",\n    grantType: \"authorization_code\",\n    redirectUri: \"https://cuttingdiesstore.com\"\n  }).then(async obj => {\n    if (obj.access_token) {\n      getUser(obj.access_token);\n    }\n  });\n};\nexport const getUser = token => {\n  oauth.getUser(token).then(obj => {\n    let state = store.getState();\n    console.log(state);\n    console.log(obj);\n    store.dispatch({\n      type: \"SET_USER\",\n      user: obj\n    });\n  });\n};","map":{"version":3,"sources":["C:/Users/Romas/astro/src/auth/auth.js"],"names":["store","DiscordOauth2","require","oauth","login","code","tokenRequest","clientId","clientSecret","scope","grantType","redirectUri","then","obj","access_token","getUser","token","state","getState","console","log","dispatch","type","user"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,gBAAlB;;AACA,MAAMC,aAAa,GAAGC,OAAO,CAAC,gBAAD,CAA7B;;AACA,MAAMC,KAAK,GAAG,IAAIF,aAAJ,EAAd;AAEA,OAAO,MAAMG,KAAK,GAAG,MAAM;AACzB,MAAIC,IAAI,GAAG,gCAAX;AACAF,EAAAA,KAAK,CACFG,YADH,CACgB;AACZC,IAAAA,QAAQ,EAAE,oBADE;AAEZC,IAAAA,YAAY,EAAE,kCAFF;AAGZH,IAAAA,IAAI,EAAEA,IAHM;AAIZI,IAAAA,KAAK,EAAE,gBAJK;AAKZC,IAAAA,SAAS,EAAE,oBALC;AAMZC,IAAAA,WAAW,EAAE;AAND,GADhB,EASGC,IATH,CASQ,MAAMC,GAAN,IAAa;AACjB,QAAIA,GAAG,CAACC,YAAR,EAAsB;AACpBC,MAAAA,OAAO,CAACF,GAAG,CAACC,YAAL,CAAP;AACD;AACF,GAbH;AAcD,CAhBM;AAkBP,OAAO,MAAMC,OAAO,GAAGC,KAAK,IAAI;AAC9Bb,EAAAA,KAAK,CAACY,OAAN,CAAcC,KAAd,EAAqBJ,IAArB,CAA0BC,GAAG,IAAI;AAC/B,QAAII,KAAK,GAAGjB,KAAK,CAACkB,QAAN,EAAZ;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYP,GAAZ;AACAb,IAAAA,KAAK,CAACqB,QAAN,CAAe;AAAEC,MAAAA,IAAI,EAAE,UAAR;AAAoBC,MAAAA,IAAI,EAAEV;AAA1B,KAAf;AACD,GALD;AAMD,CAPM","sourcesContent":["import store from \"../store/store\";\r\nconst DiscordOauth2 = require(\"discord-oauth2\");\r\nconst oauth = new DiscordOauth2();\r\n\r\nexport const login = () => {\r\n  let code = \"Tjfw5SfK5AnwRFiahpZcA7aWuYrFPK\";\r\n  oauth\r\n    .tokenRequest({\r\n      clientId: \"687765988636229689\",\r\n      clientSecret: \"M7xSfiqX7xqn6j4YUiHVeS9ohOdo6-1M\",\r\n      code: code,\r\n      scope: \"identify email\",\r\n      grantType: \"authorization_code\",\r\n      redirectUri: \"https://cuttingdiesstore.com\"\r\n    })\r\n    .then(async obj => {\r\n      if (obj.access_token) {\r\n        getUser(obj.access_token);\r\n      }\r\n    });\r\n};\r\n\r\nexport const getUser = token => {\r\n  oauth.getUser(token).then(obj => {\r\n    let state = store.getState();\r\n    console.log(state);\r\n    console.log(obj);\r\n    store.dispatch({ type: \"SET_USER\", user: obj });\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}