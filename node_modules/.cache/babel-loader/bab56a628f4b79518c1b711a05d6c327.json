{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Romas\\\\astro\\\\src\\\\components\\\\dashboard\\\\server\\\\autoroles.jsx\";\nimport React from \"react\";\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\nimport { FaPen, FaTrash, FaCheck, FaPlus } from \"react-icons/fa\";\nimport { useState, useEffect } from \"react\";\nimport { getLongestWidth } from \"../utilities/events\";\nimport AutosizeInput from \"react-input-autosize\";\n\nconst AutoRoles = () => {\n  const allRoles = [\"Guest\", \"Fan\", \"Memeber\", \"Admin\"];\n  const allEvents = [\"Join\", \"Level X\"];\n  const [autoroles, setAutoroles] = useState([{\n    on: {\n      current: \"Join\",\n      choice: allEvents\n    },\n    role: {\n      current: \"Guest\",\n      choice: allRoles\n    }\n  }, {\n    on: {\n      current: \"Level 3\",\n      choice: allEvents\n    },\n    role: {\n      current: \"Fan\",\n      choice: allRoles\n    }\n  }, {\n    on: {\n      current: \"Level 10\",\n      choice: allEvents\n    },\n    role: {\n      current: \"Member\",\n      choice: allRoles\n    }\n  }]);\n  const [editRoles, setEditRoles] = useState({\n    id: -1,\n    show: false,\n    type: \"wait\"\n  });\n  const [longCols, setLongCols] = useState([0, 0]);\n  useEffect(() => {\n    let eventsLength = getLongestWidth(allEvents);\n    let rolesLength = getLongestWidth(allRoles);\n    setLongCols([eventsLength, rolesLength]);\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"w-100 py-4 px-4\",\n    style: {\n      position: \"relative\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"lead justify-content-center mb-3 d-flex\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Auto Roles\"), editRoles.type === \"wait\" ? React.createElement(\"div\", {\n    onClick: e => {\n      let index = autoroles.length;\n      setAutoroles(roles => {\n        let arr = [...roles];\n        arr[index] = {\n          on: {\n            current: \"select\"\n          },\n          role: {\n            current: \"select\"\n          }\n        };\n        return arr;\n      });\n      setEditRoles(edit => Object.assign({}, edit, {\n        type: \"edit\",\n        id: index,\n        show: true\n      }));\n    },\n    style: {\n      position: \"absolute\",\n      top: \"30px\",\n      right: \"30px\",\n      width: \"30px\",\n      height: \"30px\",\n      borderRadius: \"50%\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      cursor: \"pointer\"\n    },\n    className: \"convex-2 select-disable\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(FaPlus, {\n    fontSize: \"18\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  })) : React.createElement(\"div\", {\n    onClick: () => {\n      setEditRoles(edit => Object.assign({}, edit, {\n        type: \"wait\"\n      }));\n    },\n    style: {\n      position: \"absolute\",\n      top: \"30px\",\n      right: \"30px\",\n      width: \"30px\",\n      height: \"30px\",\n      borderRadius: \"50px\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      cursor: \"pointer\"\n    },\n    className: \"convex-2 select-disable\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(FaCheck, {\n    fontSize: \"18\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  })), editRoles.type !== \"wait\" && React.createElement(\"div\", {\n    onClick: () => {\n      setAutoroles(roles => {\n        let arr = [...roles];\n        arr.splice(editRoles.id, 1);\n        return arr;\n      });\n      setEditRoles(edit => Object.assign({}, edit, {\n        type: \"wait\",\n        show: false,\n        id: -1\n      }));\n    },\n    style: {\n      position: \"absolute\",\n      top: \"30px\",\n      left: \"30px\",\n      width: \"30px\",\n      height: \"30px\",\n      borderRadius: \"50%\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      cursor: \"pointer\"\n    },\n    className: \"convex-2 select-disable\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(FaTrash, {\n    fontSize: \"18\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  })), React.createElement(PerfectScrollbar, {\n    options: {\n      wheelSpeed: 0.4,\n      handlers: [\"keyboard\", \"wheel\", \"touch\"]\n    },\n    className: \"w-100 h-71 px-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, editRoles.type === \"wait\" ? React.createElement(\"table\", {\n    className: \"table borderless w-100 lead\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    style: {\n      borderBottom: \"1px solid white\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    style: {\n      padding: \"0px\"\n    },\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, \"Event\"), React.createElement(\"td\", {\n    style: {\n      padding: \"0px\"\n    },\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, \"Role\")), autoroles.map((x, i) => {\n    return React.createElement(\"tr\", {\n      className: \"choice\",\n      onClick: () => setEditRoles(edit => Object.assign({}, edit, {\n        id: i,\n        show: true,\n        type: \"edit\"\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, Object.keys(x).map(key => {\n      return React.createElement(\"td\", {\n        style: {\n          padding: \"7px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, key !== \"edit\" ? x[key].current : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(FaPen, {\n        fontSize: \"18\",\n        onClick: e => {\n          e.stopPropagation();\n          setEditRoles(edit => Object.assign({}, edit, {\n            id: i,\n            type: \"edit\"\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }), React.createElement(FaTrash, {\n        fontSize: \"18\",\n        onClick: e => {\n          e.stopPropagation();\n          setAutoroles(autoroles => {\n            let arr = [...autoroles];\n            arr.splice(i, 1);\n            return arr;\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      })));\n    }));\n  }))) : editRoles.type === \"edit\" ? React.createElement(\"table\", {\n    className: \"table borderless w-100 lead\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }, autoroles[editRoles.id] ? React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    style: {\n      borderBottom: \"1px solid white\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    scope: \"col\",\n    style: {\n      padding: 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, \"Event\"), React.createElement(\"td\", {\n    scope: \"col\",\n    style: {\n      padding: 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }, \"Role\")), React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }, Object.keys(autoroles[editRoles.id]).map(key => {\n    return React.createElement(\"td\", {\n      style: {\n        padding: \"5px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, key === \"save\" ? React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-around\",\n        padding: \"5px 0px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(FaCheck, {\n      onClick: () => {\n        setEditRoles(edit => Object.assign({}, edit, {\n          type: \"wait\"\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }), React.createElement(FaTrash, {\n      onClick: () => {\n        setAutoroles(roles => {\n          let arr = [...roles];\n          arr.splice(editRoles.id, 1);\n          return arr;\n        });\n        setEditRoles(edit => Object.assign({}, edit, {\n          type: \"wait\",\n          show: false,\n          id: -1\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    })) : React.createElement(AutosizeInput, {\n      name: \"form-field-name\",\n      value: autoroles[editRoles.id][key].current,\n      style: {\n        backgroundColor: \"transparent\",\n        border: \"none\",\n        outline: \"none\"\n      },\n      onChange: function (event) {\n        // event.target.value contains the new value\n        setAutoroles(roles => {\n          let arr = [...roles];\n          arr[editRoles.id][key].current = event.target.value;\n          return arr;\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }));\n  })), React.createElement(\"tr\", {\n    style: {\n      overflow: \"hidden\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    style: {\n      height: \"104px\",\n      padding: \"5px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273\n    },\n    __self: this\n  }, React.createElement(PerfectScrollbar, {\n    options: {\n      wheelSpeed: 0.4\n    },\n    className: \"concave-2 rounded\",\n    style: {\n      minWidth: `${longCols[0] + 50}px`\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274\n    },\n    __self: this\n  }, allEvents.map(ev => {\n    return React.createElement(\"div\", {\n      className: \"choice\",\n      onClick: () => {\n        setAutoroles(roles => {\n          console.log(roles);\n          let arr = [...roles];\n          arr[editRoles.id].on.current = ev;\n          return arr;\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, ev);\n  }))), React.createElement(\"td\", {\n    style: {\n      height: \"104px\",\n      padding: \"5px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298\n    },\n    __self: this\n  }, React.createElement(PerfectScrollbar, {\n    options: {\n      wheelSpeed: 0.4\n    },\n    style: {\n      minWidth: `${longCols[1] + 50}px`\n    },\n    className: \"concave-2 rounded\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299\n    },\n    __self: this\n  }, allRoles.map(role => {\n    return React.createElement(\"div\", {\n      onClick: () => {\n        setAutoroles(roles => {\n          console.log(roles);\n          let arr = [...roles];\n          arr[editRoles.id].role.current = role;\n          return arr;\n        });\n      },\n      className: \"choice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, role);\n  }))))) : \"\") : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330\n    },\n    __self: this\n  })));\n};\n\nexport default AutoRoles;","map":{"version":3,"sources":["C:/Users/Romas/astro/src/components/dashboard/server/autoroles.jsx"],"names":["React","PerfectScrollbar","FaPen","FaTrash","FaCheck","FaPlus","useState","useEffect","getLongestWidth","AutosizeInput","AutoRoles","allRoles","allEvents","autoroles","setAutoroles","on","current","choice","role","editRoles","setEditRoles","id","show","type","longCols","setLongCols","eventsLength","rolesLength","position","e","index","length","roles","arr","edit","Object","assign","top","right","width","height","borderRadius","display","alignItems","justifyContent","cursor","splice","left","wheelSpeed","handlers","borderBottom","padding","map","x","i","keys","key","stopPropagation","backgroundColor","border","outline","event","target","value","overflow","minWidth","ev","console","log"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\r\nimport { FaPen, FaTrash, FaCheck, FaPlus } from \"react-icons/fa\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { getLongestWidth } from \"../utilities/events\";\r\nimport AutosizeInput from \"react-input-autosize\";\r\nconst AutoRoles = () => {\r\n  const allRoles = [\"Guest\", \"Fan\", \"Memeber\", \"Admin\"];\r\n  const allEvents = [\"Join\", \"Level X\"];\r\n  const [autoroles, setAutoroles] = useState([\r\n    {\r\n      on: { current: \"Join\", choice: allEvents },\r\n      role: { current: \"Guest\", choice: allRoles },\r\n    },\r\n    {\r\n      on: { current: \"Level 3\", choice: allEvents },\r\n      role: { current: \"Fan\", choice: allRoles },\r\n    },\r\n    {\r\n      on: { current: \"Level 10\", choice: allEvents },\r\n      role: { current: \"Member\", choice: allRoles },\r\n    },\r\n  ]);\r\n\r\n  const [editRoles, setEditRoles] = useState({\r\n    id: -1,\r\n    show: false,\r\n    type: \"wait\",\r\n  });\r\n  const [longCols, setLongCols] = useState([0, 0]);\r\n  useEffect(() => {\r\n    let eventsLength = getLongestWidth(allEvents);\r\n    let rolesLength = getLongestWidth(allRoles);\r\n    setLongCols([eventsLength, rolesLength]);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"w-100 py-4 px-4\" style={{ position: \"relative\" }}>\r\n      <div className=\"lead justify-content-center mb-3 d-flex\">Auto Roles</div>\r\n      {editRoles.type === \"wait\" ? (\r\n        <div\r\n          onClick={(e) => {\r\n            let index = autoroles.length;\r\n            setAutoroles((roles) => {\r\n              let arr = [...roles];\r\n              arr[index] = {\r\n                on: { current: \"select\" },\r\n                role: { current: \"select\" },\r\n              };\r\n              return arr;\r\n            });\r\n            setEditRoles((edit) =>\r\n              Object.assign({}, edit, { type: \"edit\", id: index, show: true })\r\n            );\r\n          }}\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"30px\",\r\n            right: \"30px\",\r\n            width: \"30px\",\r\n            height: \"30px\",\r\n            borderRadius: \"50%\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            cursor: \"pointer\",\r\n          }}\r\n          className=\"convex-2 select-disable\"\r\n        >\r\n          <FaPlus fontSize=\"18\"></FaPlus>\r\n        </div>\r\n      ) : (\r\n        <div\r\n          onClick={() => {\r\n            setEditRoles((edit) => Object.assign({}, edit, { type: \"wait\" }));\r\n          }}\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"30px\",\r\n            right: \"30px\",\r\n            width: \"30px\",\r\n            height: \"30px\",\r\n            borderRadius: \"50px\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            cursor: \"pointer\",\r\n          }}\r\n          className=\"convex-2 select-disable\"\r\n        >\r\n          <FaCheck fontSize=\"18\"></FaCheck>\r\n        </div>\r\n      )}\r\n      {editRoles.type !== \"wait\" && (\r\n        <div\r\n          onClick={() => {\r\n            setAutoroles((roles) => {\r\n              let arr = [...roles];\r\n              arr.splice(editRoles.id, 1);\r\n              return arr;\r\n            });\r\n            setEditRoles((edit) =>\r\n              Object.assign({}, edit, {\r\n                type: \"wait\",\r\n                show: false,\r\n                id: -1,\r\n              })\r\n            );\r\n          }}\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"30px\",\r\n            left: \"30px\",\r\n            width: \"30px\",\r\n            height: \"30px\",\r\n            borderRadius: \"50%\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            cursor: \"pointer\",\r\n          }}\r\n          className=\"convex-2 select-disable\"\r\n        >\r\n          <FaTrash fontSize=\"18\"></FaTrash>\r\n        </div>\r\n      )}\r\n      <PerfectScrollbar\r\n        options={{ wheelSpeed: 0.4, handlers: [\"keyboard\", \"wheel\", \"touch\"] }}\r\n        className=\"w-100 h-71 px-3\"\r\n      >\r\n        {editRoles.type === \"wait\" ? (\r\n          <table className=\"table borderless w-100 lead\">\r\n            <tbody>\r\n              <tr style={{ borderBottom: \"1px solid white\" }}>\r\n                <td style={{ padding: \"0px\" }} scope=\"col\">\r\n                  Event\r\n                </td>\r\n                <td style={{ padding: \"0px\" }} scope=\"col\">\r\n                  Role\r\n                </td>\r\n                {/* <td style={{ padding: \"0px\" }} scope=\"col\">\r\n                  Edit\r\n                </td> */}\r\n              </tr>\r\n              {autoroles.map((x, i) => {\r\n                return (\r\n                  <tr\r\n                    className=\"choice\"\r\n                    onClick={() =>\r\n                      setEditRoles((edit) =>\r\n                        Object.assign({}, edit, {\r\n                          id: i,\r\n                          show: true,\r\n                          type: \"edit\",\r\n                        })\r\n                      )\r\n                    }\r\n                  >\r\n                    {Object.keys(x).map((key) => {\r\n                      return (\r\n                        <td style={{ padding: \"7px\" }}>\r\n                          {key !== \"edit\" ? (\r\n                            x[key].current\r\n                          ) : (\r\n                            <div>\r\n                              <FaPen\r\n                                fontSize=\"18\"\r\n                                onClick={(e) => {\r\n                                  e.stopPropagation();\r\n                                  setEditRoles((edit) =>\r\n                                    Object.assign({}, edit, {\r\n                                      id: i,\r\n                                      type: \"edit\",\r\n                                    })\r\n                                  );\r\n                                }}\r\n                              ></FaPen>\r\n                              <FaTrash\r\n                                fontSize=\"18\"\r\n                                onClick={(e) => {\r\n                                  e.stopPropagation();\r\n                                  setAutoroles((autoroles) => {\r\n                                    let arr = [...autoroles];\r\n                                    arr.splice(i, 1);\r\n                                    return arr;\r\n                                  });\r\n                                }}\r\n                              ></FaTrash>\r\n                            </div>\r\n                          )}\r\n                        </td>\r\n                      );\r\n                    })}\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        ) : editRoles.type === \"edit\" ? (\r\n          <table className=\"table borderless w-100 lead\">\r\n            {autoroles[editRoles.id] ? (\r\n              <tbody>\r\n                <tr style={{ borderBottom: \"1px solid white\" }}>\r\n                  <td scope=\"col\" style={{ padding: 0 }}>\r\n                    Event\r\n                  </td>\r\n                  <td scope=\"col\" style={{ padding: 0 }}>\r\n                    Role\r\n                  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                  {Object.keys(autoroles[editRoles.id]).map((key) => {\r\n                    return (\r\n                      <td style={{ padding: \"5px\" }}>\r\n                        {key === \"save\" ? (\r\n                          <div\r\n                            style={{\r\n                              display: \"flex\",\r\n                              justifyContent: \"space-around\",\r\n                              padding: \"5px 0px\",\r\n                            }}\r\n                          >\r\n                            <FaCheck\r\n                              onClick={() => {\r\n                                setEditRoles((edit) =>\r\n                                  Object.assign({}, edit, { type: \"wait\" })\r\n                                );\r\n                              }}\r\n                            ></FaCheck>\r\n                            <FaTrash\r\n                              onClick={() => {\r\n                                setAutoroles((roles) => {\r\n                                  let arr = [...roles];\r\n                                  arr.splice(editRoles.id, 1);\r\n                                  return arr;\r\n                                });\r\n                                setEditRoles((edit) =>\r\n                                  Object.assign({}, edit, {\r\n                                    type: \"wait\",\r\n                                    show: false,\r\n                                    id: -1,\r\n                                  })\r\n                                );\r\n                              }}\r\n                            ></FaTrash>\r\n                          </div>\r\n                        ) : (\r\n                          <AutosizeInput\r\n                            name=\"form-field-name\"\r\n                            value={autoroles[editRoles.id][key].current}\r\n                            style={{\r\n                              backgroundColor: \"transparent\",\r\n                              border: \"none\",\r\n                              outline: \"none\",\r\n                            }}\r\n                            onChange={function (event) {\r\n                              // event.target.value contains the new value\r\n                              setAutoroles((roles) => {\r\n                                let arr = [...roles];\r\n                                arr[editRoles.id][key].current =\r\n                                  event.target.value;\r\n                                return arr;\r\n                              });\r\n                            }}\r\n                          />\r\n                        )}\r\n                      </td>\r\n                    );\r\n                  })}\r\n                </tr>\r\n                <tr style={{ overflow: \"hidden\" }}>\r\n                  <td style={{ height: \"104px\", padding: \"5px\" }}>\r\n                    <PerfectScrollbar\r\n                      options={{ wheelSpeed: 0.4 }}\r\n                      className=\"concave-2 rounded\"\r\n                      style={{ minWidth: `${longCols[0] + 50}px` }}\r\n                    >\r\n                      {allEvents.map((ev) => {\r\n                        return (\r\n                          <div\r\n                            className=\"choice\"\r\n                            onClick={() => {\r\n                              setAutoroles((roles) => {\r\n                                console.log(roles);\r\n                                let arr = [...roles];\r\n                                arr[editRoles.id].on.current = ev;\r\n                                return arr;\r\n                              });\r\n                            }}\r\n                          >\r\n                            {ev}\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    </PerfectScrollbar>\r\n                  </td>\r\n                  <td style={{ height: \"104px\", padding: \"5px\" }}>\r\n                    <PerfectScrollbar\r\n                      options={{ wheelSpeed: 0.4 }}\r\n                      style={{ minWidth: `${longCols[1] + 50}px` }}\r\n                      className=\"concave-2 rounded\"\r\n                    >\r\n                      {allRoles.map((role) => {\r\n                        return (\r\n                          <div\r\n                            onClick={() => {\r\n                              setAutoroles((roles) => {\r\n                                console.log(roles);\r\n                                let arr = [...roles];\r\n                                arr[editRoles.id].role.current = role;\r\n                                return arr;\r\n                              });\r\n                            }}\r\n                            className=\"choice\"\r\n                          >\r\n                            {role}\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    </PerfectScrollbar>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </table>\r\n        ) : (\r\n          <div></div>\r\n        )}\r\n      </PerfectScrollbar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AutoRoles;\r\n"]},"metadata":{},"sourceType":"module"}