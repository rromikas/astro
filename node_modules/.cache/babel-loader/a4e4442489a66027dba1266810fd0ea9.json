{"ast":null,"code":"import t, { Component as e } from \"react\";\nimport n from \"prop-types\";\n\nfunction i(t, e) {\n  for (var n = 0; n < e.length; n++) {\n    var i = e[n];\n    i.enumerable = i.enumerable || !1, i.configurable = !0, \"value\" in i && (i.writable = !0), Object.defineProperty(t, i.key, i);\n  }\n}\n\nfunction o(t, e, n) {\n  return e in t ? Object.defineProperty(t, e, {\n    value: n,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : t[e] = n, t;\n}\n\nfunction a() {\n  return (a = Object.assign || function (t) {\n    for (var e = 1; e < arguments.length; e++) {\n      var n = arguments[e];\n\n      for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]);\n    }\n\n    return t;\n  }).apply(this, arguments);\n}\n\nfunction s(t) {\n  return (s = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  })(t);\n}\n\nfunction r(t, e) {\n  return (r = Object.setPrototypeOf || function (t, e) {\n    return t.__proto__ = e, t;\n  })(t, e);\n}\n\nfunction l() {\n  if (\"undefined\" == typeof Reflect || !Reflect.construct) return !1;\n  if (Reflect.construct.sham) return !1;\n  if (\"function\" == typeof Proxy) return !0;\n\n  try {\n    return Date.prototype.toString.call(Reflect.construct(Date, [], function () {})), !0;\n  } catch (t) {\n    return !1;\n  }\n}\n\nfunction c(t) {\n  if (void 0 === t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return t;\n}\n\nfunction u(t, e) {\n  return !e || \"object\" != typeof e && \"function\" != typeof e ? c(t) : e;\n}\n\nvar d = \"styles_Editext__button__6H8n_\",\n    _ = \"styles_Editext__input__1534X\",\n    p = \"styles_Editext__main_container__2Y-IL\",\n    f = \"styles_Editext__editing_container__3yvUv\",\n    v = \"styles_Editext__view_container__2l2kB\",\n    h = \"styles_Editext__buttons_container__1kphL\",\n    y = \"styles_Editext__buttons_showButtonsOnHover__EUUD5\",\n    b = \"styles_Editext__buttons_before_aligned__NnoWq\",\n    m = \"styles_Editext__buttons_after_aligned__1nlcG\",\n    g = \"styles_Editext__validation_message__3B-OU\",\n    x = \"styles_Editext__cancel_button__259hb\",\n    E = \"styles_Editext__edit_button__hthOZ\",\n    C = \"styles_Editext__save_button__3WN6q\",\n    O = \"styles_Editext__hide_default_icons__AV_7m\",\n    w = \"styles_Editext__hint__2QU2S\";\n\nfunction B() {\n  return Array.apply(void 0, arguments).filter(function (t) {\n    return t;\n  }).join(\" \");\n}\n\n!function (t, e) {\n  void 0 === e && (e = {});\n  var n = e.insertAt;\n\n  if (t && \"undefined\" != typeof document) {\n    var i = document.head || document.getElementsByTagName(\"head\")[0],\n        o = document.createElement(\"style\");\n    o.type = \"text/css\", \"top\" === n && i.firstChild ? i.insertBefore(o, i.firstChild) : i.appendChild(o), o.styleSheet ? o.styleSheet.cssText = t : o.appendChild(document.createTextNode(t));\n  }\n}('.styles_Editext__button__6H8n_ {\\n  border-radius: 1px;\\n  outline: none;\\n  padding: 0.6em;\\n  min-width: 30px;\\n  height: 100%;\\n  border-color: rgb(216, 216, 216) rgb(209, 209, 209) rgb(186, 186, 186);\\n  border-style: solid;\\n  border-width: 1px;\\n}\\n.styles_Editext__button__6H8n_:hover {\\n  cursor: pointer;\\n  background-color: rgba(241, 241, 241, 1);\\n}\\n.styles_Editext__input__1534X {\\n  width: 100%;\\n  border: 1px solid rgb(212, 212, 212);\\n  padding: 0.6em;\\n  outline: none;\\n}\\n.styles_Editext__main_container__2Y-IL {\\n  display: flex;\\n  flex-direction: column;\\n}\\n.styles_Editext__editing_container__3yvUv {\\n  display: flex;\\n  flex: 1;\\n  align-items: center;\\n}\\n.styles_Editext__view_container__2l2kB {\\n  display: flex;\\n  align-items: center;\\n}\\n.styles_Editext__buttons_container__1kphL {\\n  display: flex;\\n}\\n.styles_Editext__buttons_showButtonsOnHover__EUUD5 .styles_Editext__buttons_container__1kphL {\\n  visibility: hidden;\\n}\\n.styles_Editext__buttons_showButtonsOnHover__EUUD5:hover .styles_Editext__buttons_container__1kphL {\\n  visibility: visible;\\n}\\n.styles_Editext__buttons_before_aligned__NnoWq {\\n  margin-right: 5px;\\n}\\n.styles_Editext__buttons_after_aligned__1nlcG {\\n  margin-left: 5px;\\n}\\n.styles_Editext__validation_message__3B-OU {\\n  font-weight: 500;\\n  color: crimson;\\n  font-size: 0.7em;\\n  margin-top: 3px;\\n}\\n.styles_Editext__cancel_button__259hb {\\n  color: crimson;\\n}\\n.styles_Editext__cancel_button__259hb:before {\\n  content: \"\\\\2715\";\\n  margin: 3px;\\n}\\n.styles_Editext__edit_button__hthOZ {\\n  color: #000;\\n}\\n.styles_Editext__edit_button__hthOZ:before {\\n  content: \"\\\\270E\";\\n  margin: 3px;\\n}\\n.styles_Editext__save_button__3WN6q {\\n  color: darkgreen;\\n  margin-right: 3px;\\n}\\n.styles_Editext__save_button__3WN6q:before {\\n  content: \"\\\\2713\";\\n  margin: 3px;\\n}\\n.styles_Editext__hide_default_icons__AV_7m:before {\\n  content: none;\\n  margin: 0;\\n}\\n.styles_Editext__hint__2QU2S {\\n  font-weight: 500;\\n  color: lightslategray;\\n  font-size: 0.7em;\\n  margin-top: 3px;\\n  text-align: left;\\n}\\n');\n\nvar N = \"view-container\",\n    k = \"edit-container\",\n    P = \"edit-button\",\n    U = \"save-button\",\n    S = \"cancel-button\",\n    D = \"input\",\n    j = \"hint\",\n    V = function (n) {\n  !function (t, e) {\n    if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n    t.prototype = Object.create(e && e.prototype, {\n      constructor: {\n        value: t,\n        writable: !0,\n        configurable: !0\n      }\n    }), e && r(t, e);\n  }(q, e);\n  var V,\n      R,\n      I,\n      A,\n      M = (V = q, function () {\n    var t,\n        e = s(V);\n\n    if (l()) {\n      var n = s(this).constructor;\n      t = Reflect.construct(e, arguments, n);\n    } else t = e.apply(this, arguments);\n\n    return u(this, t);\n  });\n\n  function q(e) {\n    var n;\n    return function (t, e) {\n      if (!(t instanceof e)) throw new TypeError(\"Cannot call a class as a function\");\n    }(this, q), o(c(n = M.call(this, e)), \"handleKeyDown\", function (t) {\n      var e = n.props,\n          i = e.submitOnEnter,\n          o = e.inputProps,\n          a = e.cancelOnEscape,\n          s = [13, \"Enter\"].some(function (e) {\n        return t.keyCode === e || t.code === e;\n      }),\n          r = [27, \"Escape\", \"Esc\"].some(function (e) {\n        return t.keyCode === e || t.code === e;\n      });\n      s && (i && n.handleSave(), t.preventDefault()), r && (a && n.handleCancel(), t.preventDefault()), o.onKeyDown && o.onKeyDown(t);\n    }), o(c(n), \"handleOnBlur\", function (t) {\n      var e = n.props,\n          i = e.cancelOnUnfocus,\n          o = e.submitOnUnfocus,\n          a = e.inputProps,\n          s = n.editingButtons.current.contains(t.relatedTarget);\n      i && !s && n.handleCancel(), o && !s && !i && n.handleSave(), a.onBlur && a.onBlur(t);\n    }), o(c(n), \"handleInputChange\", function (t) {\n      n.setState({\n        valid: !0,\n        value: t.target.value\n      });\n    }), o(c(n), \"handleCancel\", function () {\n      n.setState({\n        valid: !0,\n        editing: !1,\n        value: n.state.savedValue || n.props.value\n      }, function () {\n        return n.props.onCancel(n.state.value, n.props.inputProps);\n      });\n    }), o(c(n), \"handleActivateEditMode\", function () {\n      n.setState({\n        editing: !0\n      }, function () {\n        n.props.onEditingStart(n.state.value);\n      });\n    }), o(c(n), \"handleSave\", function () {\n      var t = n.props,\n          e = t.onSave,\n          i = t.validation,\n          o = t.onValidationFail,\n          a = t.inputProps;\n      if (!i(n.state.value)) return n.setState({\n        valid: !1\n      }, function () {\n        o && o(n.state.value);\n      });\n      n.setState({\n        editing: !1,\n        savedValue: n.state.value\n      }, function () {\n        return e(n.state.savedValue, a);\n      });\n    }), o(c(n), \"_renderEditingMode\", function () {\n      var e = n.props,\n          i = e.saveButtonClassName,\n          o = e.saveButtonContent,\n          a = e.cancelButtonClassName,\n          s = e.editContainerClassName,\n          r = e.viewContainerClassName,\n          l = e.cancelButtonContent,\n          c = e.onValidationFail,\n          u = e.validationMessage,\n          _ = e.hint,\n          p = e.hideIcons,\n          v = e.buttonsAlign,\n          y = n._renderInput(),\n          E = B(\"\".concat(d), \"\".concat(C), p && \"\".concat(O)),\n          N = i || E,\n          P = B(\"\".concat(d), \"\".concat(x), p && \"\".concat(O)),\n          D = a || P,\n          V = f;\n\n      s && (V = s), r && (V = r);\n      var R = B(h, \"before\" === v && \"\".concat(b), \"after\" === v && \"\".concat(m));\n      return t.createElement(\"div\", null, t.createElement(\"div\", {\n        ref: n.editingContainer,\n        className: V,\n        editext: k\n      }, \"after\" === v && y, t.createElement(\"div\", {\n        className: R,\n        ref: n.editingButtons\n      }, t.createElement(\"button\", {\n        ref: n.saveButton,\n        editext: U,\n        type: \"button\",\n        className: N,\n        onClick: n.handleSave\n      }, o), t.createElement(\"button\", {\n        type: \"button\",\n        editext: S,\n        className: D,\n        onClick: n.handleCancel\n      }, l)), \"before\" === v && y), !n.state.valid && !c && t.createElement(\"div\", {\n        className: g\n      }, u), _ && t.createElement(\"div\", {\n        className: w,\n        editext: j\n      }, _));\n    }), o(c(n), \"_renderViewMode\", function () {\n      var e = n.props,\n          i = e.viewProps,\n          o = e.editButtonClassName,\n          s = e.editButtonContent,\n          r = e.viewContainerClassName,\n          l = e.hideIcons,\n          c = e.buttonsAlign,\n          u = e.editOnViewClick,\n          _ = e.showButtonsOnHover,\n          p = B(\"\".concat(d), \"\".concat(E), l && \"\".concat(O)),\n          f = o || p,\n          g = B(r || v, _ && \"\".concat(y)),\n          x = B(h, \"before\" === c && \"\".concat(b), \"after\" === c && \"\".concat(m)),\n          C = u ? n.handleActivateEditMode : void 0;\n      return t.createElement(\"div\", {\n        className: g,\n        editext: N\n      }, \"after\" === c && t.createElement(\"div\", a({}, i, {\n        onClick: C,\n        editext: \"view\"\n      }), n.state.value), t.createElement(\"div\", {\n        className: x\n      }, t.createElement(\"button\", {\n        type: \"button\",\n        editext: P,\n        className: f,\n        onClick: n.handleActivateEditMode\n      }, s)), \"before\" === c && t.createElement(\"div\", a({}, i, {\n        onClick: C,\n        editext: N\n      }), n.state.value));\n    }), n.state = {\n      editing: e.editing,\n      valid: !0,\n      value: e.value || \"\",\n      savedValue: \"\"\n    }, n.saveButton = t.createRef(), n.input = t.createRef(), n.editingContainer = t.createRef(), n.editingButtons = t.createRef(), n;\n  }\n\n  return R = q, (I = [{\n    key: \"componentDidMount\",\n    value: function () {\n      this.checkPropsConsistency();\n    }\n  }, {\n    key: \"checkPropsConsistency\",\n    value: function () {\n      this.props.cancelOnUnfocus && this.props.submitOnUnfocus && console.warn(\"EdiText: Both `cancelOnUnfocus` and `submitOnUnfocus` are set to true. `submitOnUnfocus` is ignored in this case. Please remove one of these.\");\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function (t, e) {\n      var n = {};\n      void 0 !== this.props.value && t.value !== this.props.value && (n.value = this.props.value), void 0 !== t.editing && t.editing !== this.props.editing && (n.editing = this.props.editing), Object.keys(n).length > 0 && this.setState(n);\n    }\n  }, {\n    key: \"_renderInput\",\n    value: function () {\n      return \"textarea\" === this.props.type ? t.createElement(\"textarea\", a({\n        ref: this.input,\n        className: _,\n        editext: D\n      }, this.props.inputProps, {\n        onBlur: this.handleOnBlur,\n        value: this.state.value,\n        onChange: this.handleInputChange,\n        autoFocus: this.state.editing\n      })) : t.createElement(\"input\", a({\n        ref: this.input,\n        className: _,\n        editext: D\n      }, this.props.inputProps, {\n        onKeyDown: this.handleKeyDown,\n        onBlur: this.handleOnBlur,\n        value: this.state.value,\n        type: this.props.type,\n        onChange: this.handleInputChange,\n        autoFocus: this.state.editing\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function () {\n      var e = this.state.editing ? this._renderEditingMode() : this._renderViewMode(),\n          n = this.props,\n          i = n.mainContainerClassName,\n          o = n.className,\n          a = B(i || p, o);\n      return t.createElement(\"div\", {\n        className: a\n      }, e);\n    }\n  }]) && i(R.prototype, I), A && i(R, A), q;\n}();\n\nV.defaultProps = {\n  value: \"\",\n  type: \"text\",\n  validationMessage: \"Invalid Value\",\n  validation: function (t) {\n    return !0;\n  },\n  onEditingStart: function (t) {\n    return null;\n  },\n  onCancel: function (t) {\n    return null;\n  },\n  inputProps: {\n    onKeyDown: function (t) {},\n    onBlur: function (t) {}\n  },\n  viewProps: {},\n  cancelButtonContent: \"\",\n  saveButtonContent: \"\",\n  editButtonContent: \"\",\n  hideIcons: !1,\n  buttonsAlign: \"after\",\n  editing: !1\n}, V.propTypes = {\n  inputProps: n.object,\n  viewProps: n.object,\n  value: n.string.isRequired,\n  hint: n.node,\n  validationMessage: n.node,\n  validation: n.func,\n  onValidationFail: n.func,\n  type: n.oneOf([\"text\", \"textarea\", \"password\", \"email\", \"number\", \"date\", \"datetime-local\", \"time\", \"month\", \"url\", \"week\", \"tel\"]).isRequired,\n  onCancel: n.func,\n  onSave: n.func.isRequired,\n  onEditingStart: n.func,\n  className: n.string,\n  saveButtonClassName: n.string,\n  editButtonClassName: n.string,\n  cancelButtonClassName: n.string,\n  mainContainerClassName: n.string,\n  editContainerClassName: n.string,\n  viewContainerClassName: n.string,\n  cancelButtonContent: n.any,\n  saveButtonContent: n.any,\n  editButtonContent: n.any,\n  hideIcons: n.bool,\n  buttonsAlign: n.oneOf([\"after\", \"before\"]),\n  editOnViewClick: n.bool,\n  editing: n.bool,\n  showButtonsOnHover: n.bool,\n  submitOnEnter: n.bool,\n  cancelOnEscape: n.bool,\n  cancelOnUnfocus: n.bool,\n  submitOnUnfocus: n.bool\n};\nexport default V;","map":{"version":3,"sources":["../src/utils.js","../node_modules/style-inject/dist/style-inject.es.js","../src/index.js"],"names":["classnames","Array","arguments","filter","a","join","dataAttributes","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","EdiText","Component","props","state","editing","valid","value","savedValue","saveButton","React","createRef","input","editingContainer","editingButtons","checkPropsConsistency","this","cancelOnUnfocus","submitOnUnfocus","console","warn","prevProps","_prevState","nextState","undefined","Object","keys","length","setState","submitOnEnter","inputProps","cancelOnEscape","_this","isEnter","some","e","keyCode","c","code","isEscape","handleSave","preventDefault","handleCancel","onKeyDown","isEditingButton","current","contains","relatedTarget","onBlur","target","onCancel","onEditingStart","onSave","validation","onValidationFail","className","styles","editext","handleOnBlur","onChange","handleInputChange","autoFocus","handleKeyDown","saveButtonClassName","saveButtonContent","cancelButtonClassName","editContainerClassName","viewContainerClassName","cancelButtonContent","validationMessage","hint","hideIcons","buttonsAlign","inputElem","_renderInput","saveButtonDefaultClasses","saveButtonClass","cancelButtonDefaultClasses","cancelButtonClass","editContainerClass","buttonsContainerClass","onClick","viewProps","editButtonClassName","editButtonContent","editOnViewClick","showButtonsOnHover","editButtonDefaultClasses","editButtonClass","viewContainerClass","viewClickHandler","handleActivateEditMode","mode","_renderEditingMode","_renderViewMode","mainContainerClassName","clsName","defaultProps","propTypes","PropTypes","object","string","isRequired","node","func","oneOf","any","bool"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAO,SAASA,CAAT,GAASA;AAAAA,SAKPC,KAAAA,CAAAA,KAAAA,CAAAA,KAAAA,CAAAA,EAASC,SAATD,EACJE,MADIF,CACG,UAAA,CAAA,EAAA;AAAA,WAAKG,CAAL;AAAKA,GADRH,EAEJI,IAFIJ,CAEC,GAFDA,CALOD;AAON;;AAAA,CCPV,UAAqBO,CAArB,EAA0BC,CAA1B,EAA0BA;AAAAA,OACX,CADWA,KACnBA,CADmBA,KACFA,CAAAA,GAAM,EADJA;AAExB,MAAIC,CAAAA,GAAWD,CAAAA,CAAIC,QAAnB;;AAEA,MAAKF,CAAAA,IAA2B,eAAA,OAAbG,QAAnB,EAAA;AAEA,QAAIC,CAAAA,GAAOD,QAAAA,CAASC,IAATD,IAAiBA,QAAAA,CAASE,oBAATF,CAA8B,MAA9BA,EAAsC,CAAtCA,CAA5B;AAAA,QACIG,CAAAA,GAAQH,QAAAA,CAASI,aAATJ,CAAuB,OAAvBA,CADZ;AAEAG,IAAAA,CAAAA,CAAME,IAANF,GAAa,UAAbA,EAEiB,UAAbJ,CAAa,IACXE,CAAAA,CAAKK,UADM,GAEbL,CAAAA,CAAKM,YAALN,CAAkBE,CAAlBF,EAAyBA,CAAAA,CAAKK,UAA9BL,CAFa,GAOfA,CAAAA,CAAKO,WAALP,CAAiBE,CAAjBF,CATFE,EAYIA,CAAAA,CAAMM,UAANN,GACFA,CAAAA,CAAMM,UAANN,CAAiBO,OAAjBP,GAA2BN,CADzBM,GAGFA,CAAAA,CAAMK,WAANL,CAAkBH,QAAAA,CAASW,cAATX,CAAwBH,CAAxBG,CAAlBG,CAfFA;AAe4CN;AAAAA,CAvB9C,CAuB8CA,shEAvB9C,CDOU;;AAGH,IAAMD,CAAAA,GAuBI,gBAvBV;AAAA,IAAMA,CAAAA,GAyBI,gBAzBV;AAAA,IAAMA,CAAAA,GA0BC,aA1BP;AAAA,IAAMA,CAAAA,GA2BC,aA3BP;AAAA,IAAMA,CAAAA,GA4BG,eA5BT;AAAA,IAAMA,CAAAA,GA6BJ,OA7BF;AAAA,IAAMA,CAAAA,GA8BL,MA9BD;AAAA,IELcgB,CAAAA,GAAAA,UAAAA,CAAAA,EAAAA;AAAAA,GAAAA,UAAAA,CAAAA,EAAAA,CAAAA,EAAAA;AAAAA,QAAAA,cAAAA,OAAAA,CAAAA,IAAAA,SAAAA,CAAAA,EAAAA,MAAAA,IAAAA,SAAAA,CAAAA,oDAAAA,CAAAA;AAAAA,IAAAA,CAAAA,CAAAA,SAAAA,GAAAA,MAAAA,CAAAA,MAAAA,CAAAA,CAAAA,IAAAA,CAAAA,CAAAA,SAAAA,EAAAA;AAAAA,MAAAA,WAAAA,EAAAA;AAAAA,QAAAA,KAAAA,EAAAA,CAAAA;AAAAA,QAAAA,QAAAA,EAAAA,CAAAA,CAAAA;AAAAA,QAAAA,YAAAA,EAAAA,CAAAA;AAAAA;AAAAA,KAAAA,CAAAA,EAAAA,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,EAAAA,CAAAA,CAAAA;AAAAA,GAAAA,CAAAA,CAAAA,EAAgBC,CAAhBD,CAAAA;AAAgBC,MAAAA,CAAAA;AAAAA,MAAAA,CAAAA;AAAAA,MAAAA,CAAAA;AAAAA,MAAAA,CAAAA;AAAAA,MAAAA,CAAAA,IAAAA,CAAAA,GAAAA,CAAAA,EAAAA,YAAAA;AAAAA,QAAAA,CAAAA;AAAAA,QAAAA,CAAAA,GAAAA,CAAAA,CAAAA,CAAAA,CAAAA;;AAAAA,QAAAA,CAAAA,EAAAA,EAAAA;AAAAA,UAAAA,CAAAA,GAAAA,CAAAA,CAAAA,IAAAA,CAAAA,CAAAA,WAAAA;AAAAA,MAAAA,CAAAA,GAAAA,OAAAA,CAAAA,SAAAA,CAAAA,CAAAA,EAAAA,SAAAA,EAAAA,CAAAA,CAAAA;AAAAA,KAAAA,MAAAA,CAAAA,GAAAA,CAAAA,CAAAA,KAAAA,CAAAA,IAAAA,EAAAA,SAAAA,CAAAA;;AAAAA,WAAAA,CAAAA,CAAAA,IAAAA,EAAAA,CAAAA,CAAAA;AAAAA,GAAAA,CAAAA;;AAAAA,WAAAA,CAAAA,CACvBC,CADuBD,EACvBC;AAAAA,QAAAA,CAAAA;AAAAA,WAAAA,UAAAA,CAAAA,EAAAA,CAAAA,EAAAA;AAAAA,UAAAA,EAAAA,CAAAA,YAAAA,CAAAA,CAAAA,EAAAA,MAAAA,IAAAA,SAAAA,CAAAA,mCAAAA,CAAAA;AAAAA,KAAAA,CAAAA,IAAAA,EAAAA,CAAAA,GAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,GAAAA,CAAAA,CAAAA,IAAAA,CAAAA,IAAAA,EACJA,CADIA,CAAAA,CAAAA,EACJA,eADIA,EA8CI,UAAA,CAAA,EAAA;AAAA,UAAA,CAAA,GACwC6B,CAAAA,CAAK7B,KAD7C;AAAA,UACN0B,CAAAA,GAAAA,CAAAA,CAAAA,aADM;AAAA,UACSC,CAAAA,GAAAA,CAAAA,CAAAA,UADT;AAAA,UACqBC,CAAAA,GAAAA,CAAAA,CAAAA,cADrB;AAAA,UAERE,CAAAA,GAAU,CAAC,EAAD,EAAK,OAAL,EAAcC,IAAd,CAAmB,UAAA,CAAA,EAAA;AAAA,eAAKC,CAAAA,CAAEC,OAAFD,KAAcE,CAAdF,IAAmBA,CAAAA,CAAEG,IAAFH,KAAWE,CAAnC;AAAmCA,OAAtD,CAFF;AAAA,UAGRE,CAAAA,GAAW,CAAC,EAAD,EAAK,QAAL,EAAe,KAAf,EAAsBL,IAAtB,CACf,UAAA,CAAA,EAAA;AAAA,eAAKC,CAAAA,CAAEC,OAAFD,KAAcE,CAAdF,IAAmBA,CAAAA,CAAEG,IAAFH,KAAWE,CAAnC;AAAmCA,OADpB,CAHH;AAMVJ,MAAAA,CAAAA,KACFJ,CAAAA,IAAiBG,CAAAA,CAAKQ,UAALR,EAAjBH,EACAM,CAAAA,CAAEM,cAAFN,EAFEF,CAAAA,EAIAM,CAAAA,KACFR,CAAAA,IAAkBC,CAAAA,CAAKU,YAALV,EAAlBD,EACAI,CAAAA,CAAEM,cAAFN,EAFEI,CAJAN,EAQJH,CAAAA,CAAWa,SAAXb,IAAwBA,CAAAA,CAAWa,SAAXb,CAAqBK,CAArBL,CARpBG;AAQyCE,KA5DnChC,CAAAA,EA4DmCgC,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,EAAAA,cAAAA,EAGhC,UAAA,CAAA,EAAA;AAAA,UAAA,CAAA,GAC4CH,CAAAA,CAAK7B,KADjD;AAAA,UACLc,CAAAA,GAAAA,CAAAA,CAAAA,eADK;AAAA,UACYC,CAAAA,GAAAA,CAAAA,CAAAA,eADZ;AAAA,UAC6BY,CAAAA,GAAAA,CAAAA,CAAAA,UAD7B;AAAA,UAEPc,CAAAA,GAAkBZ,CAAAA,CAAKlB,cAALkB,CAAoBa,OAApBb,CAA4Bc,QAA5Bd,CACtBG,CAAAA,CAAEY,aADoBf,CAFX;AAKbf,MAAAA,CAAAA,IAAAA,CAAoB2B,CAApB3B,IAAuCe,CAAAA,CAAKU,YAALV,EAAvCf,EACAC,CAAAA,IAAAA,CAAoB0B,CAApB1B,IAAoB0B,CAAoB3B,CAAxCC,IAA2Dc,CAAAA,CAAKQ,UAALR,EAD3Df,EAEAa,CAAAA,CAAWkB,MAAXlB,IAAqBA,CAAAA,CAAWkB,MAAXlB,CAAkBK,CAAlBL,CAFrBb;AAEuCkB,KAVMA,CA5DnChC,EAsE6BgC,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,EAAAA,mBAAAA,EAGrB,UAAA,CAAA,EAAA;AAAA,MAAA,CAAA,CACbP,QADa,CACJ;AACZtB,QAAAA,KAAAA,EAAAA,CAAO,CADK;AAEZC,QAAAA,KAAAA,EAAO4B,CAAAA,CAAEc,MAAFd,CAAS5B;AAFJ,OADI;AAGAA,KANqB4B,CAtE7BhC,EA4EQI,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,EAAAA,cAAAA,EAIL,YAAA;AAAA,MAAA,CAAA,CACRqB,QADQ,CAEX;AACEtB,QAAAA,KAAAA,EAAAA,CAAO,CADT;AAEED,QAAAA,OAAAA,EAAAA,CAAS,CAFX;AAGEE,QAAAA,KAAAA,EAAOyB,CAAAA,CAAK5B,KAAL4B,CAAWxB,UAAXwB,IAAyBA,CAAAA,CAAK7B,KAAL6B,CAAWzB;AAH7C,OAFW,EAOX,YAAA;AAAA,eAAMyB,CAAAA,CAAK7B,KAAL6B,CAAWkB,QAAXlB,CAAoBA,CAAAA,CAAK5B,KAAL4B,CAAWzB,KAA/ByB,EAAsCA,CAAAA,CAAK7B,KAAL6B,CAAWF,UAAjDE,CAAN;AAAuDF,OAP5C;AAO4CA,KAXvCvB,CA5ERJ,EAuF+C2B,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,EAAAA,wBAAAA,EAIlC,YAAA;AAAA,MAAA,CAAA,CAClBF,QADkB,CAErB;AACEvB,QAAAA,OAAAA,EAAAA,CAAS;AADX,OAFqB,EAKrB,YAAA;AAAA,QAAA,CAAA,CACOF,KADP,CACagD,cADb,CAC4BnB,CAAAA,CAAK5B,KAAL4B,CAAWzB,KADvC;AACuCA,OANlB;AAMkBA,KAVgBuB,CAvF/C3B,EAiG+BI,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,EAAAA,YAAAA,EAK9B,YAAA;AAAA,UAAA,CAAA,GACkDyB,CAAAA,CAAK7B,KADvD;AAAA,UACHiD,CAAAA,GAAAA,CAAAA,CAAAA,MADG;AAAA,UACKC,CAAAA,GAAAA,CAAAA,CAAAA,UADL;AAAA,UACiBC,CAAAA,GAAAA,CAAAA,CAAAA,gBADjB;AAAA,UACmCxB,CAAAA,GAAAA,CAAAA,CAAAA,UADnC;AACmCA,UAAAA,CAC9BuB,CAAAA,CAAWrB,CAAAA,CAAK5B,KAAL4B,CAAWzB,KAAtB8C,CAD8BvB,EACRvB,OAE7ByB,CAAAA,CAAKJ,QAALI,CAAc;AAAE1B,QAAAA,KAAAA,EAAAA,CAAO;AAAT,OAAd0B,EAAgC,YAAA;AACrCsB,QAAAA,CAAAA,IAAoBA,CAAAA,CAAiBtB,CAAAA,CAAK5B,KAAL4B,CAAWzB,KAA5B+C,CAApBA;AAAgD/C,OAD3CyB,CAF6BzB;AAGcA,MAAAA,CAAAA,CAG/CqB,QAH+CrB,CAIlD;AACEF,QAAAA,OAAAA,EAAAA,CAAS,CADX;AAEEG,QAAAA,UAAAA,EAAYwB,CAAAA,CAAK5B,KAAL4B,CAAWzB;AAFzB,OAJkDA,EAQlD,YAAA;AAAA,eAAM6C,CAAAA,CAAOpB,CAAAA,CAAK5B,KAAL4B,CAAWxB,UAAlB4C,EAA8BtB,CAA9BsB,CAAN;AAAoCtB,OARcvB;AAQduB,KAlBGvB,CAjG/BJ,EAmH4B2B,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,EAAAA,oBAAAA,EAoCnB,YAAA;AAAA,UAAA,CAAA,GAafE,CAAAA,CAAK7B,KAbU;AAAA,UAEjB4D,CAAAA,GAAAA,CAAAA,CAAAA,mBAFiB;AAAA,UAGjBC,CAAAA,GAAAA,CAAAA,CAAAA,iBAHiB;AAAA,UAIjBC,CAAAA,GAAAA,CAAAA,CAAAA,qBAJiB;AAAA,UAKjBC,CAAAA,GAAAA,CAAAA,CAAAA,sBALiB;AAAA,UAMjBC,CAAAA,GAAAA,CAAAA,CAAAA,sBANiB;AAAA,UAOjBC,CAAAA,GAAAA,CAAAA,CAAAA,mBAPiB;AAAA,UAQjBd,CAAAA,GAAAA,CAAAA,CAAAA,gBARiB;AAAA,UASjBe,CAAAA,GAAAA,CAAAA,CAAAA,iBATiB;AAAA,UAUjBC,CAAAA,GAAAA,CAAAA,CAAAA,IAViB;AAAA,UAWjBC,CAAAA,GAAAA,CAAAA,CAAAA,SAXiB;AAAA,UAYjBC,CAAAA,GAAAA,CAAAA,CAAAA,YAZiB;AAAA,UAcbC,CAAAA,GAAYzC,CAAAA,CAAK0C,YAAL1C,EAdC;AAAA,UAgBb2C,CAAAA,GAA2BhG,CAAAA,CAAAA,GAAAA,MAAAA,CAC5B6E,CAD4B7E,CAAAA,EAC5B6E,GAAAA,MAAAA,CACAA,CADAA,CAD4B7E,EAG/B4F,CAAAA,IAAAA,GAAAA,MAAAA,CAAgBf,CAAhBe,CAH+B5F,CAhBd;AAAA,UAqBbiG,CAAAA,GAAkBb,CAAAA,IAAuBY,CArB5B;AAAA,UAuBbE,CAAAA,GAA6BlG,CAAAA,CAAAA,GAAAA,MAAAA,CAC9B6E,CAD8B7E,CAAAA,EAC9B6E,GAAAA,MAAAA,CACAA,CADAA,CAD8B7E,EAGjC4F,CAAAA,IAAAA,GAAAA,MAAAA,CAAgBf,CAAhBe,CAHiC5F,CAvBhB;AAAA,UA4BbmG,CAAAA,GACJb,CAAAA,IAAyBY,CA7BR;AAAA,UA8BfE,CAAAA,GAAqBvB,CA9BN;;AA+BfU,MAAAA,CAAAA,KAAwBa,CAAAA,GAAqBb,CAA7CA,CAAAA,EACAC,CAAAA,KAAwBY,CAAAA,GAAqBZ,CAA7CA,CADAD;AAC6CC,UAC3Ca,CAAAA,GAAwBrG,CAAAA,CAC5B6E,CAD4B7E,EAEX,aAAjB6F,CAAiB,IAAjBA,GAAAA,MAAAA,CAAgChB,CAAhCgB,CAF4B7F,EAGX,YAAjB6F,CAAiB,IAAjBA,GAAAA,MAAAA,CAA+BhB,CAA/BgB,CAH4B7F,CADmBwF;AAIhBX,aAG/B9C,CAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA,IAAAA,EACEA,CAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;AACEvB,QAAAA,GAAAA,EAAK6C,CAAAA,CAAKnB,gBADZH;AAEE6C,QAAAA,SAAAA,EAAWwB,CAFbrE;AAGE+C,QAAAA,OAAAA,EAASxE;AAHXyB,OAAAA,EAKoB,YAAjB8D,CAAiB,IAAWC,CAL/B/D,EAMEA,CAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;AAAK6C,QAAAA,SAAAA,EAAWyB,CAAhBtE;AAAuCvB,QAAAA,GAAAA,EAAK6C,CAAAA,CAAKlB;AAAjDJ,OAAAA,EACEA,CAAAA,CAAAA,aAAAA,CAAAA,QAAAA,EAAAA;AACEvB,QAAAA,GAAAA,EAAK6C,CAAAA,CAAKvB,UADZC;AAEE+C,QAAAA,OAAAA,EAASxE,CAFXyB;AAGEhB,QAAAA,IAAAA,EAAK,QAHPgB;AAIE6C,QAAAA,SAAAA,EAAWqB,CAJblE;AAKEuE,QAAAA,OAAAA,EAASjD,CAAAA,CAAKQ;AALhB9B,OAAAA,EAOGsD,CAPHtD,CADFA,EAUEA,CAAAA,CAAAA,aAAAA,CAAAA,QAAAA,EAAAA;AACEhB,QAAAA,IAAAA,EAAK,QADPgB;AAEE+C,QAAAA,OAAAA,EAASxE,CAFXyB;AAGE6C,QAAAA,SAAAA,EAAWuB,CAHbpE;AAIEuE,QAAAA,OAAAA,EAASjD,CAAAA,CAAKU;AAJhBhC,OAAAA,EAMG0D,CANH1D,CAVFA,CANFA,EAyBoB,aAAjB8D,CAAiB,IAAYC,CAzBhC/D,CADFA,EA0BkC+D,CAE9BzC,CAAAA,CAAK5B,KAAL4B,CAAW1B,KAFmBmE,IAEnBnE,CAAUgD,CAFSmB,IAG9B/D,CAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;AAAK6C,QAAAA,SAAAA,EAAWC;AAAhB9C,OAAAA,EACG2D,CADH3D,CA7BJA,EAiCG4D,CAAAA,IACC5D,CAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;AAAK6C,QAAAA,SAAAA,EAAWC,CAAhB9C;AAAsC+C,QAAAA,OAAAA,EAASxE;AAA/CyB,OAAAA,EACG4D,CADH5D,CAlCJA,CAH+B8C;AAsCxBc,KA9G6BxC,CAnH5B3B,EAiODmE,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,EAAAA,iBAAAA,EAOO,YAAA;AAAA,UAAA,CAAA,GAUZtC,CAAAA,CAAK7B,KAVO;AAAA,UAEd+E,CAAAA,GAAAA,CAAAA,CAAAA,SAFc;AAAA,UAGdC,CAAAA,GAAAA,CAAAA,CAAAA,mBAHc;AAAA,UAIdC,CAAAA,GAAAA,CAAAA,CAAAA,iBAJc;AAAA,UAKdjB,CAAAA,GAAAA,CAAAA,CAAAA,sBALc;AAAA,UAMdI,CAAAA,GAAAA,CAAAA,CAAAA,SANc;AAAA,UAOdC,CAAAA,GAAAA,CAAAA,CAAAA,YAPc;AAAA,UAQda,CAAAA,GAAAA,CAAAA,CAAAA,eARc;AAAA,UASdC,CAAAA,GAAAA,CAAAA,CAAAA,kBATc;AAAA,UAYVC,CAAAA,GAA2B5G,CAAAA,CAAAA,GAAAA,MAAAA,CAC5B6E,CAD4B7E,CAAAA,EAC5B6E,GAAAA,MAAAA,CACAA,CADAA,CAD4B7E,EAG/B4F,CAAAA,IAAAA,GAAAA,MAAAA,CAAgBf,CAAhBe,CAH+B5F,CAZjB;AAAA,UAiBV6G,CAAAA,GAAkBL,CAAAA,IAAuBI,CAjB/B;AAAA,UAkBVE,CAAAA,GAAqB9G,CAAAA,CACzBwF,CAAAA,IAA0BX,CADD7E,EAEzB2G,CAAAA,IAAAA,GAAAA,MAAAA,CAAyB9B,CAAzB8B,CAFyB3G,CAlBX;AAAA,UAsBVqG,CAAAA,GAAwBrG,CAAAA,CAC5B6E,CAD4B7E,EAEX,aAAjB6F,CAAiB,IAAjBA,GAAAA,MAAAA,CAAgChB,CAAhCgB,CAF4B7F,EAGX,YAAjB6F,CAAiB,IAAjBA,GAAAA,MAAAA,CAA+BhB,CAA/BgB,CAH4B7F,CAtBd;AAAA,UA2BV+G,CAAAA,GAAmBL,CAAAA,GACrBrD,CAAAA,CAAK2D,sBADgBN,GAChBM,KACLnE,CA7BY;AA6BZA,aAEFd,CAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;AACE6C,QAAAA,SAAAA,EAAWkC,CADb/E;AAEE+C,QAAAA,OAAAA,EAASxE;AAFXyB,OAAAA,EAIoB,YAAjB8D,CAAiB,IAChB9D,CAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA,CAAAA,CAAAA,EAAAA,EAASwE,CAATxE,EAASwE;AAAWD,QAAAA,OAAAA,EAASS,CAApBR;AAAsCzB,QAAAA,OAAAA,EAAQ;AAA9CyB,OAATxE,CAAAA,EACGsB,CAAAA,CAAK5B,KAAL4B,CAAWzB,KADdG,CALJA,EASEA,CAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;AAAK6C,QAAAA,SAAAA,EAAWyB;AAAhBtE,OAAAA,EACEA,CAAAA,CAAAA,aAAAA,CAAAA,QAAAA,EAAAA;AACEhB,QAAAA,IAAAA,EAAK,QADPgB;AAEE+C,QAAAA,OAAAA,EAASxE,CAFXyB;AAGE6C,QAAAA,SAAAA,EAAWiC,CAHb9E;AAIEuE,QAAAA,OAAAA,EAASjD,CAAAA,CAAK2D;AAJhBjF,OAAAA,EAMG0E,CANH1E,CADFA,CATFA,EAmBoB,aAAjB8D,CAAiB,IAChB9D,CAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA,CAAAA,CAAAA,EAAAA,EACMwE,CADNxE,EACMwE;AACJD,QAAAA,OAAAA,EAASS,CADLR;AAEJzB,QAAAA,OAAAA,EAASxE;AAFLiG,OADNxE,CAAAA,EAKGsB,CAAAA,CAAK5B,KAAL4B,CAAWzB,KALdG,CApBJA,CAFEc;AA2BgBjB,KA/DX+D,CAjOCnE,EAgSUI,CAAAA,CA9RfH,KA8ReG,GA9RP;AACXF,MAAAA,OAAAA,EAASF,CAAAA,CAAME,OADJ;AAEXC,MAAAA,KAAAA,EAAAA,CAAO,CAFI;AAGXC,MAAAA,KAAAA,EAAOJ,CAAAA,CAAMI,KAANJ,IAAe,EAHX;AAIXK,MAAAA,UAAAA,EAAY;AAJD,KAFHL,EAMI,CAAA,CAETM,UAFS,GAEIC,CAAAA,CAAMC,SAAND,EARRP,EAQcQ,CAAAA,CACnBC,KADmBD,GACXD,CAAAA,CAAMC,SAAND,EATHP,EASSQ,CAAAA,CACdE,gBADcF,GACKD,CAAAA,CAAMC,SAAND,EAVdP,EAUoBQ,CAAAA,CACzBG,cADyBH,GACRD,CAAAA,CAAMC,SAAND,EAXZP,EAWkBQ,CAXlBR;AAWkBQ;;AAAAA,SAAAA,CAAAA,GAAAA,CAAAA,EAAAA,CAAAA,CAAAA,GAAAA,CAAAA;AAAAA,IAAAA,GAAAA,EAAAA,mBAAAA;AAAAA,IAAAA,KAAAA,EAAAA,YAAAA;AAAAA,WAIvBI,qBAJuBJ;AAIvBI;AAJuBJ,GAAAA,EAIvBI;AAAAA,IAAAA,GAAAA,EAAAA,uBAAAA;AAAAA,IAAAA,KAAAA,EAAAA,YAAAA;AAIDC,WAAKb,KAALa,CAAWC,eAAXD,IAA8BA,KAAKb,KAALa,CAAWE,eAAzCF,IACFG,OAAAA,CAAQC,IAARD,CFkBJ,+IElBIA,CADEH;AFmBN;AEvBOD,GAJuBJ,EF2B9B;AAAA,IAAA,GAAA,EAAA,oBAAA;AAAA,IAAA,KAAA,EAAA,UEdmBU,CFcnB,EEd8BC,CFc9B,EEd8BA;AAAAA,UACtBC,CAAAA,GAAY,EADUD;AACV,WAEKE,CAFL,KAEhBR,KAAKb,KAALa,CAAWT,KAFK,IAGhBc,CAAAA,CAAUd,KAAVc,KAAoBL,KAAKb,KAALa,CAAWT,KAHf,KAKhBgB,CAAAA,CAAUhB,KAAVgB,GAAkBP,KAAKb,KAALa,CAAWT,KALb,GAKaA,KAIPiB,CAJOjB,KAI7Bc,CAAAA,CAAUhB,OAJmBE,IAK7Bc,CAAAA,CAAUhB,OAAVgB,KAAsBL,KAAKb,KAALa,CAAWX,OALJE,KAO7BgB,CAAAA,CAAUlB,OAAVkB,GAAoBP,KAAKb,KAALa,CAAWX,OAPFE,CALb,EAedkB,MAAAA,CAAOC,IAAPD,CAAYF,CAAZE,EAAuBE,MAAvBF,GAAgC,CAAhCA,IAAgC,KAE7BG,QAF6B,CAEpBL,CAFoB,CAflB;AAiBFA;AFJlB,GE3B8BZ,EA+BZY;AAAAA,IAAAA,GAAAA,EAAAA,cAAAA;AAAAA,IAAAA,KAAAA,EAAAA,YAAAA;AAAAA,aA8EQ,eAApBP,KAAKb,KAALa,CAAWtB,IAAS,GAEpBgB,CAAAA,CAAAA,aAAAA,CAAAA,UAAAA,EAAAA,CAAAA,CAAAA;AACEvB,QAAAA,GAAAA,EAAK6B,KAAKJ,KADZF;AAEE6C,QAAAA,SAAAA,EAAWC,CAFb9C;AAGE+C,QAAAA,OAAAA,EAASxE;AAHXyB,OAAAA,EAIMM,KAAKb,KAALa,CAAWc,UAJjBpB,EAIiBoB;AACfkB,QAAAA,MAAAA,EAAQhC,KAAK0C,YADE5B;AAEfvB,QAAAA,KAAAA,EAAOS,KAAKZ,KAALY,CAAWT,KAFHuB;AAGf6B,QAAAA,QAAAA,EAAU3C,KAAK4C,iBAHA9B;AAIf+B,QAAAA,SAAAA,EAAW7C,KAAKZ,KAALY,CAAWX;AAJPyB,OAJjBpB,CAAAA,CAFoB,GAepBA,CAAAA,CAAAA,aAAAA,CAAAA,OAAAA,EAAAA,CAAAA,CAAAA;AACEvB,QAAAA,GAAAA,EAAK6B,KAAKJ,KADZF;AAEE6C,QAAAA,SAAAA,EAAWC,CAFb9C;AAGE+C,QAAAA,OAAAA,EAASxE;AAHXyB,OAAAA,EAIMM,KAAKb,KAALa,CAAWc,UAJjBpB,EAIiBoB;AACfa,QAAAA,SAAAA,EAAW3B,KAAK8C,aADDhC;AAEfkB,QAAAA,MAAAA,EAAQhC,KAAK0C,YAFE5B;AAGfvB,QAAAA,KAAAA,EAAOS,KAAKZ,KAALY,CAAWT,KAHHuB;AAIfpC,QAAAA,IAAAA,EAAMsB,KAAKb,KAALa,CAAWtB,IAJFoC;AAKf6B,QAAAA,QAAAA,EAAU3C,KAAK4C,iBALA9B;AAMf+B,QAAAA,SAAAA,EAAW7C,KAAKZ,KAALY,CAAWX;AANPyB,OAJjBpB,CAAAA,CA7FYa;AAuGYlB;AAvGZkB,GA/BYZ,EAsIAN;AAAAA,IAAAA,GAAAA,EAAAA,QAAAA;AAAAA,IAAAA,KAAAA,EAAAA,YAAAA;AAAAA,UAuJtBuF,CAAAA,GAAO5E,KAAKZ,KAALY,CAAWX,OAAXW,GACTA,KAAK6E,kBAAL7E,EADSA,GAETA,KAAK8E,eAAL9E,EAzJwBX;AAAAA,UAyJnByF,CAAAA,GACqC9E,KAAKb,KA1JvBE;AAAAA,UA0JpB0F,CAAAA,GAAAA,CAAAA,CAAAA,sBA1JoB1F;AAAAA,UA0JIkD,CAAAA,GAAAA,CAAAA,CAAAA,SA1JJlD;AAAAA,UA2JtB2F,CAAAA,GAAUrH,CAAAA,CACdoH,CAAAA,IAA0BvC,CADZ7E,EAEd4E,CAFc5E,CA3JY0B;AA6J1BkD,aAEK7C,CAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;AAAK6C,QAAAA,SAAAA,EAAWyC;AAAhBtF,OAAAA,EAA0BkF,CAA1BlF,CAFL6C;AAE+BqC;AA/JLvF,GAtIAM,CAAAA,KAqSKiF,CAAAA,CAAAA,CAAAA,CAAAA,SAAAA,EAAAA,CAAAA,CArSLjF,EAqSKiF,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA,EAAAA,CAAAA,CArSLjF,EAqSKiF,CArSLjF;AAqSKiF,CAjThB3F,EFKd;;AEgTPA,CAAAA,CAAQgG,YAARhG,GAAuB;AACrBM,EAAAA,KAAAA,EAAO,EADc;AAErBb,EAAAA,IAAAA,EAAM,MAFe;AAGrB2E,EAAAA,iBAAAA,EAAmB,eAHE;AAIrBhB,EAAAA,UAAAA,EAAY,UAAA,CAAA,EAAA;AAAA,WAAA,CAAM,CAAN;AAAM,GAJG;AAKrBF,EAAAA,cAAAA,EAAgB,UAAA,CAAA,EAAA;AAAA,WAAM,IAAN;AAAM,GALD;AAMrBD,EAAAA,QAAAA,EAAU,UAAA,CAAA,EAAA;AAAA,WAAM,IAAN;AAAM,GANK;AAOrBpB,EAAAA,UAAAA,EAAY;AAAEa,IAAAA,SAAAA,EAAW,UAAA,CAAA,EAAA,CAAA,CAAb;AAAuBK,IAAAA,MAAAA,EAAQ,UAAA,CAAA,EAAA,CAAA;AAA/B,GAPS;AAQrBkC,EAAAA,SAAAA,EAAW,EARU;AASrBd,EAAAA,mBAAAA,EAAqB,EATA;AAUrBJ,EAAAA,iBAAAA,EAAmB,EAVE;AAWrBoB,EAAAA,iBAAAA,EAAmB,EAXE;AAYrBb,EAAAA,SAAAA,EAAAA,CAAW,CAZU;AAarBC,EAAAA,YAAAA,EAAc,OAbO;AAcrBnE,EAAAA,OAAAA,EAAAA,CAAS;AAdY,CAAvBJ,EAiBAA,CAAAA,CAAQiG,SAARjG,GAAoB;AAClB6B,EAAAA,UAAAA,EAAYqE,CAAAA,CAAUC,MADJ;AAElBlB,EAAAA,SAAAA,EAAWiB,CAAAA,CAAUC,MAFH;AAGlB7F,EAAAA,KAAAA,EAAO4F,CAAAA,CAAUE,MAAVF,CAAiBG,UAHN;AAIlBhC,EAAAA,IAAAA,EAAM6B,CAAAA,CAAUI,IAJE;AAKlBlC,EAAAA,iBAAAA,EAAmB8B,CAAAA,CAAUI,IALX;AAMlBlD,EAAAA,UAAAA,EAAY8C,CAAAA,CAAUK,IANJ;AAOlBlD,EAAAA,gBAAAA,EAAkB6C,CAAAA,CAAUK,IAPV;AAQlB9G,EAAAA,IAAAA,EAAMyG,CAAAA,CAAUM,KAAVN,CAAgB,CACpB,MADoB,EAEpB,UAFoB,EAGpB,UAHoB,EAIpB,OAJoB,EAKpB,QALoB,EAMpB,MANoB,EAOpB,gBAPoB,EAQpB,MARoB,EASpB,OAToB,EAUpB,KAVoB,EAWpB,MAXoB,EAYpB,KAZoB,CAAhBA,EAaHG,UArBe;AAuBlBpD,EAAAA,QAAAA,EAAUiD,CAAAA,CAAUK,IAvBF;AAwBlBpD,EAAAA,MAAAA,EAAQ+C,CAAAA,CAAUK,IAAVL,CAAeG,UAxBL;AAyBlBnD,EAAAA,cAAAA,EAAgBgD,CAAAA,CAAUK,IAzBR;AA2BlBjD,EAAAA,SAAAA,EAAW4C,CAAAA,CAAUE,MA3BH;AA4BlBtC,EAAAA,mBAAAA,EAAqBoC,CAAAA,CAAUE,MA5Bb;AA6BlBlB,EAAAA,mBAAAA,EAAqBgB,CAAAA,CAAUE,MA7Bb;AA8BlBpC,EAAAA,qBAAAA,EAAuBkC,CAAAA,CAAUE,MA9Bf;AA+BlBN,EAAAA,sBAAAA,EAAwBI,CAAAA,CAAUE,MA/BhB;AAgClBnC,EAAAA,sBAAAA,EAAwBiC,CAAAA,CAAUE,MAhChB;AAiClBlC,EAAAA,sBAAAA,EAAwBgC,CAAAA,CAAUE,MAjChB;AAmClBjC,EAAAA,mBAAAA,EAAqB+B,CAAAA,CAAUO,GAnCb;AAoClB1C,EAAAA,iBAAAA,EAAmBmC,CAAAA,CAAUO,GApCX;AAqClBtB,EAAAA,iBAAAA,EAAmBe,CAAAA,CAAUO,GArCX;AAsClBnC,EAAAA,SAAAA,EAAW4B,CAAAA,CAAUQ,IAtCH;AAuClBnC,EAAAA,YAAAA,EAAc2B,CAAAA,CAAUM,KAAVN,CAAgB,CAAC,OAAD,EAAU,QAAV,CAAhBA,CAvCI;AAwClBd,EAAAA,eAAAA,EAAiBc,CAAAA,CAAUQ,IAxCT;AAyClBtG,EAAAA,OAAAA,EAAS8F,CAAAA,CAAUQ,IAzCD;AA0ClBrB,EAAAA,kBAAAA,EAAoBa,CAAAA,CAAUQ,IA1CZ;AA2ClB9E,EAAAA,aAAAA,EAAesE,CAAAA,CAAUQ,IA3CP;AA4ClB5E,EAAAA,cAAAA,EAAgBoE,CAAAA,CAAUQ,IA5CR;AA6ClB1F,EAAAA,eAAAA,EAAiBkF,CAAAA,CAAUQ,IA7CT;AA8ClBzF,EAAAA,eAAAA,EAAiBiF,CAAAA,CAAUQ;AA9CT,CAjBpB1G;AA+D6B0G,eAAAA,CAAAA","sourcesContent":["export function classnames() {\n  /**\n   * Our simple classnames replica.\n   * This is enough for me.\n   */\n  return Array(...arguments)\n    .filter(a => a)\n    .join(' ')\n}\n\nexport const dataAttributes = {\n  /**\n   * This is for the end user. You can use below attributes if you want to\n   * style this component with `styled-components` or something like that.\n   * Example notation:\n   * <div class=\"EdiText_Buttons__container_34fgAsdf\" editext=\"button-container\">\n   * Example usage with styled-components:\n\n    const StyledEdiText = styled(EdiText)`\n      button[editext=\"edit-button\"] {\n        color: #000;\n      }\n      button[editext=\"save-button\"] {\n        background:#587C0C;\n        color: #fff;\n      }\n      input, textarea {\n        background: #1D2225;\n        color: #F4C361;\n        font-weight: bold;\n      }\n    `\n   */\n  viewContainer: 'view-container',\n  buttonContainer: 'button-container',\n  editContainer: 'edit-container',\n  editButton: 'edit-button',\n  saveButton: 'save-button',\n  cancelButton: 'cancel-button',\n  input: 'input',\n  hint: 'hint'\n}\n\nexport const cancelOnConflictMessage =\n  'EdiText: Both `cancelOnUnfocus` and `submitOnUnfocus` are set to true. ' +\n  '`submitOnUnfocus` is ignored in this case. Please remove one of these.'\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport styles from './styles.css'\nimport { cancelOnConflictMessage, dataAttributes, classnames } from './utils'\n\nexport default class EdiText extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      editing: props.editing,\n      valid: true,\n      value: props.value || '',\n      savedValue: ''\n    }\n    this.saveButton = React.createRef()\n    this.input = React.createRef()\n    this.editingContainer = React.createRef()\n    this.editingButtons = React.createRef()\n  }\n\n  componentDidMount() {\n    this.checkPropsConsistency()\n  }\n\n  checkPropsConsistency() {\n    if (this.props.cancelOnUnfocus && this.props.submitOnUnfocus) {\n      console.warn(cancelOnConflictMessage)\n    }\n  }\n\n  componentDidUpdate(prevProps, _prevState) {\n    const nextState = {}\n    if (\n      this.props.value !== undefined &&\n      prevProps.value !== this.props.value\n    ) {\n      nextState.value = this.props.value\n    }\n\n    if (\n      prevProps.editing !== undefined &&\n      prevProps.editing !== this.props.editing\n    ) {\n      nextState.editing = this.props.editing\n    }\n\n    if (Object.keys(nextState).length > 0) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState(nextState)\n    }\n  }\n\n  handleKeyDown = e => {\n    const { submitOnEnter, inputProps, cancelOnEscape } = this.props\n    const isEnter = [13, 'Enter'].some(c => e.keyCode === c || e.code === c)\n    const isEscape = [27, 'Escape', 'Esc'].some(\n      c => e.keyCode === c || e.code === c\n    )\n    if (isEnter) {\n      submitOnEnter && this.handleSave()\n      e.preventDefault()\n    }\n    if (isEscape) {\n      cancelOnEscape && this.handleCancel()\n      e.preventDefault()\n    }\n    inputProps.onKeyDown && inputProps.onKeyDown(e) // TODO: this sucks.\n  }\n\n  handleOnBlur = e => {\n    const { cancelOnUnfocus, submitOnUnfocus, inputProps } = this.props\n    const isEditingButton = this.editingButtons.current.contains(\n      e.relatedTarget\n    )\n    cancelOnUnfocus && !isEditingButton && this.handleCancel()\n    submitOnUnfocus && !isEditingButton && !cancelOnUnfocus && this.handleSave()\n    inputProps.onBlur && inputProps.onBlur(e) // TODO: this sucks.\n  }\n\n  handleInputChange = e => {\n    this.setState({\n      valid: true,\n      value: e.target.value\n    })\n  }\n\n  handleCancel = () => {\n    this.setState(\n      {\n        valid: true,\n        editing: false,\n        value: this.state.savedValue || this.props.value\n      },\n      () => this.props.onCancel(this.state.value, this.props.inputProps)\n    )\n  }\n\n  handleActivateEditMode = () => {\n    this.setState(\n      {\n        editing: true\n      },\n      () => {\n        this.props.onEditingStart(this.state.value)\n      }\n    )\n  }\n\n  handleSave = () => {\n    const { onSave, validation, onValidationFail, inputProps } = this.props\n    const isValid = validation(this.state.value)\n    if (!isValid) {\n      return this.setState({ valid: false }, () => {\n        onValidationFail && onValidationFail(this.state.value)\n      })\n    }\n    this.setState(\n      {\n        editing: false,\n        savedValue: this.state.value\n      },\n      () => onSave(this.state.savedValue, inputProps)\n    )\n  }\n\n  _renderInput() {\n    if (this.props.type === 'textarea') {\n      return (\n        <textarea\n          ref={this.input}\n          className={styles.Editext__input}\n          editext={dataAttributes.input}\n          {...this.props.inputProps}\n          onBlur={this.handleOnBlur}\n          value={this.state.value}\n          onChange={this.handleInputChange}\n          autoFocus={this.state.editing}\n        />\n      )\n    } else {\n      return (\n        <input\n          ref={this.input}\n          className={styles.Editext__input}\n          editext={dataAttributes.input}\n          {...this.props.inputProps}\n          onKeyDown={this.handleKeyDown}\n          onBlur={this.handleOnBlur}\n          value={this.state.value}\n          type={this.props.type}\n          onChange={this.handleInputChange}\n          autoFocus={this.state.editing}\n        />\n      )\n    }\n  }\n\n  _renderEditingMode = () => {\n    const {\n      saveButtonClassName,\n      saveButtonContent,\n      cancelButtonClassName,\n      editContainerClassName,\n      viewContainerClassName,\n      cancelButtonContent,\n      onValidationFail,\n      validationMessage,\n      hint,\n      hideIcons,\n      buttonsAlign\n    } = this.props\n    const inputElem = this._renderInput()\n    // calculate save button classes\n    const saveButtonDefaultClasses = classnames(\n      `${styles.Editext__button}`,\n      `${styles.Editext__save_button}`,\n      hideIcons && `${styles.Editext__hide_default_icons}`\n    )\n    const saveButtonClass = saveButtonClassName || saveButtonDefaultClasses\n    // calculate cancel button classes\n    const cancelButtonDefaultClasses = classnames(\n      `${styles.Editext__button}`,\n      `${styles.Editext__cancel_button}`,\n      hideIcons && `${styles.Editext__hide_default_icons}`\n    )\n    const cancelButtonClass =\n      cancelButtonClassName || cancelButtonDefaultClasses\n    let editContainerClass = styles.Editext__editing_container\n    if (editContainerClassName) editContainerClass = editContainerClassName\n    if (viewContainerClassName) editContainerClass = viewContainerClassName\n    const buttonsContainerClass = classnames(\n      styles.Editext__buttons_container,\n      buttonsAlign === 'before' && `${styles.Editext__buttons_before_aligned}`,\n      buttonsAlign === 'after' && `${styles.Editext__buttons_after_aligned}`\n    )\n    return (\n      <div>\n        <div\n          ref={this.editingContainer}\n          className={editContainerClass}\n          editext={dataAttributes.editContainer}\n        >\n          {buttonsAlign === 'after' && inputElem}\n          <div className={buttonsContainerClass} ref={this.editingButtons}>\n            <button\n              ref={this.saveButton}\n              editext={dataAttributes.saveButton}\n              type='button'\n              className={saveButtonClass}\n              onClick={this.handleSave}\n            >\n              {saveButtonContent}\n            </button>\n            <button\n              type='button'\n              editext={dataAttributes.cancelButton}\n              className={cancelButtonClass}\n              onClick={this.handleCancel}\n            >\n              {cancelButtonContent}\n            </button>\n          </div>\n          {buttonsAlign === 'before' && inputElem}\n        </div>\n        {!this.state.valid && !onValidationFail && (\n          <div className={styles.Editext__validation_message}>\n            {validationMessage}\n          </div>\n        )}\n        {hint && (\n          <div className={styles.Editext__hint} editext={dataAttributes.hint}>\n            {hint}\n          </div>\n        )}\n      </div>\n    )\n  }\n\n  _renderViewMode = () => {\n    const {\n      viewProps,\n      editButtonClassName,\n      editButtonContent,\n      viewContainerClassName,\n      hideIcons,\n      buttonsAlign,\n      editOnViewClick,\n      showButtonsOnHover\n    } = this.props\n    // calculate edit button classes\n    const editButtonDefaultClasses = classnames(\n      `${styles.Editext__button}`,\n      `${styles.Editext__edit_button}`,\n      hideIcons && `${styles.Editext__hide_default_icons}`\n    )\n    const editButtonClass = editButtonClassName || editButtonDefaultClasses\n    const viewContainerClass = classnames(\n      viewContainerClassName || styles.Editext__view_container,\n      showButtonsOnHover && `${styles.Editext__buttons_showButtonsOnHover}`\n    )\n    const buttonsContainerClass = classnames(\n      styles.Editext__buttons_container,\n      buttonsAlign === 'before' && `${styles.Editext__buttons_before_aligned}`,\n      buttonsAlign === 'after' && `${styles.Editext__buttons_after_aligned}`\n    )\n    const viewClickHandler = editOnViewClick\n      ? this.handleActivateEditMode\n      : undefined\n    return (\n      <div\n        className={viewContainerClass}\n        editext={dataAttributes.viewContainer}\n      >\n        {buttonsAlign === 'after' && (\n          <div {...viewProps} onClick={viewClickHandler} editext='view'>\n            {this.state.value}\n          </div>\n        )}\n        <div className={buttonsContainerClass}>\n          <button\n            type='button'\n            editext={dataAttributes.editButton}\n            className={editButtonClass}\n            onClick={this.handleActivateEditMode}\n          >\n            {editButtonContent}\n          </button>\n        </div>\n        {buttonsAlign === 'before' && (\n          <div\n            {...viewProps}\n            onClick={viewClickHandler}\n            editext={dataAttributes.viewContainer}\n          >\n            {this.state.value}\n          </div>\n        )}\n      </div>\n    )\n  }\n\n  render() {\n    const mode = this.state.editing\n      ? this._renderEditingMode()\n      : this._renderViewMode()\n    const { mainContainerClassName, className } = this.props\n    const clsName = classnames(\n      mainContainerClassName || styles.Editext__main_container,\n      className\n    )\n    return <div className={clsName}>{mode}</div>\n  }\n}\n\nEdiText.defaultProps = {\n  value: '',\n  type: 'text',\n  validationMessage: 'Invalid Value',\n  validation: _v => true,\n  onEditingStart: _v => null,\n  onCancel: _v => null,\n  inputProps: { onKeyDown: _e => {}, onBlur: _e => {} },\n  viewProps: {},\n  cancelButtonContent: '',\n  saveButtonContent: '',\n  editButtonContent: '',\n  hideIcons: false,\n  buttonsAlign: 'after',\n  editing: false\n}\n\nEdiText.propTypes = {\n  inputProps: PropTypes.object,\n  viewProps: PropTypes.object,\n  value: PropTypes.string.isRequired,\n  hint: PropTypes.node,\n  validationMessage: PropTypes.node,\n  validation: PropTypes.func,\n  onValidationFail: PropTypes.func,\n  type: PropTypes.oneOf([\n    'text',\n    'textarea',\n    'password',\n    'email',\n    'number',\n    'date',\n    'datetime-local',\n    'time',\n    'month',\n    'url',\n    'week',\n    'tel'\n  ]).isRequired,\n  // Events\n  onCancel: PropTypes.func,\n  onSave: PropTypes.func.isRequired,\n  onEditingStart: PropTypes.func,\n  // classNames\n  className: PropTypes.string,\n  saveButtonClassName: PropTypes.string,\n  editButtonClassName: PropTypes.string,\n  cancelButtonClassName: PropTypes.string,\n  mainContainerClassName: PropTypes.string,\n  editContainerClassName: PropTypes.string,\n  viewContainerClassName: PropTypes.string,\n  // Custom Button Texts\n  cancelButtonContent: PropTypes.any,\n  saveButtonContent: PropTypes.any,\n  editButtonContent: PropTypes.any,\n  hideIcons: PropTypes.bool,\n  buttonsAlign: PropTypes.oneOf(['after', 'before']),\n  editOnViewClick: PropTypes.bool,\n  editing: PropTypes.bool,\n  showButtonsOnHover: PropTypes.bool,\n  submitOnEnter: PropTypes.bool,\n  cancelOnEscape: PropTypes.bool,\n  cancelOnUnfocus: PropTypes.bool,\n  submitOnUnfocus: PropTypes.bool\n}\n"]},"metadata":{},"sourceType":"module"}