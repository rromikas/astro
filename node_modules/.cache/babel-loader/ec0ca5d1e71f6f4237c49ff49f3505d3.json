{"ast":null,"code":"const DiscordOauth2 = require(\"discord-oauth2\");\n\nconst oauth = new DiscordOauth2();\nexport const login = () => {\n  return new Promise((resolve, reject) => {\n    let code = \"KRvAa9dmGR3pxppGAxmNkR4hkWT5qF\";\n    oauth.tokenRequest({\n      clientId: \"687765988636229689\",\n      clientSecret: \"M7xSfiqX7xqn6j4YUiHVeS9ohOdo6-1M\",\n      code: code,\n      scope: \"identify email\",\n      grantType: \"authorization_code\",\n      redirectUri: \"https://cuttingdiesstore.com\"\n    }).then(async obj => {\n      if (obj.access_token) {\n        let user = await getUser(obj.access_token);\n        resolve(user);\n      }\n    });\n  });\n};\nexport const getUser = token => {\n  return new Promise((resolve, reject) => {\n    oauth.getUser(token).then(obj => resolve(obj));\n  });\n};","map":{"version":3,"sources":["C:/Users/Romas/astro/src/auth/auth.js"],"names":["DiscordOauth2","require","oauth","login","Promise","resolve","reject","code","tokenRequest","clientId","clientSecret","scope","grantType","redirectUri","then","obj","access_token","user","getUser","token"],"mappings":"AAAA,MAAMA,aAAa,GAAGC,OAAO,CAAC,gBAAD,CAA7B;;AACA,MAAMC,KAAK,GAAG,IAAIF,aAAJ,EAAd;AAEA,OAAO,MAAMG,KAAK,GAAG,MAAM;AACzB,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,QAAIC,IAAI,GAAG,gCAAX;AACAL,IAAAA,KAAK,CACFM,YADH,CACgB;AACZC,MAAAA,QAAQ,EAAE,oBADE;AAEZC,MAAAA,YAAY,EAAE,kCAFF;AAGZH,MAAAA,IAAI,EAAEA,IAHM;AAIZI,MAAAA,KAAK,EAAE,gBAJK;AAKZC,MAAAA,SAAS,EAAE,oBALC;AAMZC,MAAAA,WAAW,EAAE;AAND,KADhB,EASGC,IATH,CASQ,MAAMC,GAAN,IAAa;AACjB,UAAIA,GAAG,CAACC,YAAR,EAAsB;AACpB,YAAIC,IAAI,GAAG,MAAMC,OAAO,CAACH,GAAG,CAACC,YAAL,CAAxB;AACAX,QAAAA,OAAO,CAACY,IAAD,CAAP;AACD;AACF,KAdH;AAeD,GAjBM,CAAP;AAkBD,CAnBM;AAqBP,OAAO,MAAMC,OAAO,GAAGC,KAAK,IAAI;AAC9B,SAAO,IAAIf,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCJ,IAAAA,KAAK,CAACgB,OAAN,CAAcC,KAAd,EAAqBL,IAArB,CAA0BC,GAAG,IAAIV,OAAO,CAACU,GAAD,CAAxC;AACD,GAFM,CAAP;AAGD,CAJM","sourcesContent":["const DiscordOauth2 = require(\"discord-oauth2\");\r\nconst oauth = new DiscordOauth2();\r\n\r\nexport const login = () => {\r\n  return new Promise((resolve, reject) => {\r\n    let code = \"KRvAa9dmGR3pxppGAxmNkR4hkWT5qF\";\r\n    oauth\r\n      .tokenRequest({\r\n        clientId: \"687765988636229689\",\r\n        clientSecret: \"M7xSfiqX7xqn6j4YUiHVeS9ohOdo6-1M\",\r\n        code: code,\r\n        scope: \"identify email\",\r\n        grantType: \"authorization_code\",\r\n        redirectUri: \"https://cuttingdiesstore.com\"\r\n      })\r\n      .then(async obj => {\r\n        if (obj.access_token) {\r\n          let user = await getUser(obj.access_token);\r\n          resolve(user);\r\n        }\r\n      });\r\n  });\r\n};\r\n\r\nexport const getUser = token => {\r\n  return new Promise((resolve, reject) => {\r\n    oauth.getUser(token).then(obj => resolve(obj));\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}